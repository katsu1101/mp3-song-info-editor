(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43946,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return l}});let l=e=>{}},80389,e=>{"use strict";var t=e.i(80506);let r={ui:{showFilePath:!1},playback:{continuous:!1,shuffle:!1}},l="mp3-editor.settings.v1";var i=e.i(778);let u=e=>"object"==typeof e&&null!==e&&!Array.isArray(e),n=e=>{if(0===e.length)return!1;let t=Number(e);return Number.isInteger(t)&&String(t)===e},s=e=>Array.isArray(e)?[...e]:u(e)?{...e}:{},a=(e,t)=>Array.isArray(e)&&n(t)?e[Number(t)]:Array.isArray(e)?void 0:e[t],o=(e,t,r)=>{if(Array.isArray(e)&&n(t)){e[Number(t)]=r;return}Array.isArray(e)||(e[t]=r)},c=(e,t,r)=>{let l=t.split(".").filter(Boolean);if(0===l.length)return e;let i=Array.isArray(e)?[...e]:u(e)?{...e}:null;if(!i)return e;let n=i;for(let e=0;e<l.length-1;e++){let t=l[e],r=s(a(n,t));o(n,t,r),n=r}return o(n,l[l.length-1],r),i},g=(e,t)=>{switch(t.type){case"replace":return t.settings;case"set":return c(e,t.path,t.value);case"toggle":{let r=((e,t)=>{let r=t.split(".").filter(Boolean),l=e;for(let e of r){if(!u(l))return;l=l[e]}return l})(e,t.path);if("boolean"!=typeof r)return e;return c(e,t.path,!r)}default:return e}},f=(0,i.createContext)(null);e.s(["SettingsProvider",0,({children:e})=>{let[u,n]=(0,i.useReducer)(g,r),s=(0,i.useRef)(!1);(0,i.useEffect)(()=>{n({type:"replace",settings:(()=>{try{let e=localStorage.getItem(l);if(!e)return r;let t=JSON.parse(e);return{ui:{showFilePath:t.ui?.showFilePath??r.ui.showFilePath},playback:{continuous:t.playback?.continuous??r.playback.continuous,shuffle:t.playback?.shuffle??r.playback.shuffle}}}catch{return r}})()}),s.current=!0},[]),(0,i.useEffect)(()=>{if(s.current)try{localStorage.setItem(l,JSON.stringify(u))}catch{}},[u]);let a=(0,i.useMemo)(()=>({settings:u,setSetting:(e,t)=>n({type:"set",path:e,value:t}),toggleSetting:e=>n({type:"toggle",path:e}),toggleContinuous:()=>n({type:"toggle",path:"playback.continuous"}),toggleShuffle:()=>n({type:"toggle",path:"playback.shuffle"}),toggleShowFilePath:()=>n({type:"toggle",path:"ui.showFilePath"})}),[u]);return(0,t.jsx)(f.Provider,{value:a,children:e})},"useSettings",0,()=>{let e=(0,i.useContext)(f);if(!e)throw Error("useSettings must be used within SettingsProvider");return e}],80389)},44636,e=>{"use strict";var t=e.i(80506),r=e.i(80389);function l({children:e}){return(0,t.jsx)(r.SettingsProvider,{children:e})}e.s(["Providers",()=>l])}]);